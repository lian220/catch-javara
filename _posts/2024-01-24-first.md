---
layout: single
title:  "이벤트 기반 아키텍처 (EDA)"
categories:
  - infra
sidebar:
  nav: sidebar-category
---

---

# 이벤트 기반 아키텍처 (EDA) 개요

이벤트 기반 아키텍처(Event-Driven Architecture, EDA)는 시스템의 다양한 서비스나 구성 요소 간의 통신을 이벤트의 생성, 감지, 소비를 통해 이루는 소프트웨어 설계 패러다임입니다. 이 방식은 낮은 결합도, 확장성, 유연성을 촉진하며, 분산 시스템과 현대 애플리케이션 요구에 적합합니다.

---

## 이벤트 기반 아키텍처의 핵심 개념

1. **이벤트**
   - 이벤트는 시스템 상태의 중요한 변화나 관심 있는 발생 상황입니다.
   - 예: 사용자 로그인, 주문 생성, 주식 가격 업데이트.

2. **이벤트 프로듀서(생산자)**
   - 이벤트를 생성하는 구성 요소.
   - 예: 프론트엔드 애플리케이션, IoT 기기, API.

3. **이벤트 컨슈머(소비자)**
   - 이벤트에 반응하여 특정 작업을 수행하는 구성 요소.
   - 예: 알림 서비스, 분석 파이프라인.

4. **이벤트 채널**
   - 프로듀서에서 컨슈머로 이벤트를 전송하는 메커니즘.
   - 예: 메시지 큐, Kafka 또는 RabbitMQ의 토픽.

5. **이벤트 프로세서**
   - 이벤트를 처리하여 비즈니스 로직을 수행하거나 추가 작업을 트리거하는 서비스.
   - 예: 마이크로서비스, 이벤트 핸들러.

---

## EDA의 아키텍처 패턴

### 1. **이벤트 알림**
- **목적**: 시스템에 이벤트 발생 사실을 알림.
- **예시**: 사용자가 파일을 업로드하면 처리 서비스에 알림을 전송.
- **장점**: 통신 단순화 및 낮은 결합도 유지.

### 2. **이벤트 상태 전달**
- **목적**: 이벤트에 소비자가 처리에 필요한 충분한 정보를 포함.
- **예시**: 주문 이벤트에 사용자 ID, 품목, 총 비용 등의 정보를 포함.
- **장점**: 추가 데이터베이스 조회 필요성 감소.

### 3. **이벤트 소싱(Event Sourcing)**
- **목적**: 엔터티 상태를 이벤트 시퀀스로 저장.
- **예시**: 은행 계좌의 잔액을 입금 및 출금 이벤트를 재생하여 계산.
- **장점**: 감사 추적 및 과거 데이터 복구 가능.

### 4. **CQRS(Command Query Responsibility Segregation)**
- **목적**: 읽기와 쓰기 모델을 분리하여 성능과 확장성 향상.
- **예시**: 전자상거래 플랫폼에서 주문 쓰기 서비스와 주문 내역 조회 서비스를 분리.
- **장점**: 데이터 액세스 패턴 최적화.

---

## EDA의 장점

1. **확장성**: 분산 시스템에서 대량의 이벤트 처리 가능.
2. **낮은 결합도**: 서비스 간 종속성을 줄여 독립적 개발 및 배포 가능.
3. **유연성**: 새로운 이벤트 프로듀서나 컨슈머를 추가해도 큰 재작업 없이 적응 가능.
4. **실시간 처리**: 모니터링 및 분석 애플리케이션에 중요한 실시간 반응 가능.

---

## EDA의 도전 과제

1. **복잡성**: 비동기 통신으로 시스템 복잡성 증가.
2. **디버깅**: 이벤트 흐름 전반에 걸친 문제를 디버깅하고 추적하기 어려움.
3. **일관성**: 서비스 간 데이터 일관성 유지가 어려움.
4. **오버헤드**: 메시지 브로커와 같은 추가 인프라 필요.

---

## EDA를 위한 도구와 기술

1. **메시지 브로커**
   - 예: Apache Kafka, RabbitMQ, AWS SNS/SQS.

2. **이벤트 처리 프레임워크**
   - 예: Apache Flink, Apache Storm.

3. **이벤트 스토리지**
   - 예: Event Store, Amazon Kinesis.

4. **클라우드 서비스**
   - 예: AWS EventBridge, Azure Event Grid, Google Cloud Pub/Sub.

---

## EDA의 활용 사례

1. **전자상거래**: 주문 처리, 재고 업데이트, 결제 처리.
2. **IoT 시스템**: 기기에서의 실시간 데이터 수집 및 분석.
3. **금융 서비스**: 사기 탐지, 거래 처리.
4. **모니터링 및 알림**: 시스템 상태 모니터링 및 자동 응답.

---

## EDA 구현을 위한 모범 사례

1. 명확한 이벤트 정의와 경계를 설정.
2. 중복 이벤트를 처리할 수 있는 멱등 컨슈머 사용.
3. 재시도와 확인을 통해 신뢰할 수 있는 이벤트 전달 보장.
4. 관찰 가능성 도구를 사용하여 이벤트 흐름과 시스템 성능 모니터링.
5. 필요한 경우 궁극적 일관성을 계획.

---

## 결론

이벤트 기반 아키텍처는 확장성, 유연성, 실시간 응답이 필요한 시스템 설계에 강력한 접근 방식입니다. 비록 몇 가지 도전 과제가 있지만, 낮은 결합도, 확장 가능하고 탄력적인 시스템을 가능하게 하는 이점 덕분에 현대 소프트웨어 개발에서 필수적인 패턴으로 자리 잡고 있습니다.